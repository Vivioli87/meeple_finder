{% extends "base.html" %}

{% block styles %}
    <link rel="stylesheet" href="{{ url_for('static', filename='css/games.css') }}" type="text/css">
{% endblock %}

{% block content %}

<div class="row">
    <div class="col s12">
        <div class="card-panel custom-teal-text center-align">
            <h2 class="welcome-text">Welcome to Meeple Finder</h2>
            <h4 class="welcome-text">Where meeting Meeples is easy....</h4>
            <br>    
            <p class="bigger-p-text">Meeple finder is an online community for board game enthusiasts</p>
            <p class="bigger-p-text">Register to be able to join the community and review your favourtie games, add your favourite games
                to your own personalised collection or add games you would like to purchase to a wishlist.</p>
            <a href="{{ url_for('register') }}" class="btn-small teal text-shadow">Register<i class="fas fa-user-plus right"></i></a>
            <p class="bigger-p-text">Already Registered?</p>
            <a href="{{ url_for('login') }}" class="btn-small teal text-shadow">Log in<i class="fas fa-sign-in-alt right"></i></a>
        </div>
    </div>
</div>
<h3 class="custom-teal-text padding"><i class="fas fa-dice"></i> <span class="underline">Games List:</span></h3>
<!--Search bar-->
<div class="row card-panel search-bar custom-teal-text center-align">
    <form action="{{ url_for('search_non_user') }}" method="POST" class="col s12">
        <div class="row valign-wrapper">
            <div class="input-field col s12 m8">
                <i class="fas fa-search prefix"></i>
                <input type="text" name="query" id="query" minlength="3" class="validate" required>
                <label for="query">Search Games</label>
            </div>
            <div class="col s12 m4">
                <button type="submit" class=" btn-small teal text-shadow">
                    <i class="fas fa-search left"></i> Search
                </button>
                <a href="{{ url_for('games_non_user') }}" class="blue accent-3 btn-small text-shadow">Show all Games</a>
            </div>
        </div>
    </form>
    <p><em>*Searches across Name, Description, Game Mechanisms and Themes <br> Remember to click 'Show all Games' to see full list again!</em></p>
</div>
<div class="row">
    {% for game in games %}
        <div class="col s12 m4 l3">
            <div class="card game-list-size">
                <div class="card-image">
                    {% if game.image == "" %}
                        <img src="https://www.logolynx.com/images/logolynx/s_33/33d3b4fb44abf51ee337cff414cbaecd.jpeg">
                    {% else %}
                        <img src="{{game.image}}">
                    {% endif %}
                </div>
                <div class="card-stacked">
                    <div class="card-content center-align">
                        <h5 class="custom-teal-text underline">{{game.name|upper}}</h5>
                        <p>{{game.description|truncate(150)}}</p><br>
                        <a href="{{ url_for('get_game_detail', game_id=game._id) }}" class="btn-small teal">More Info</a>
                    </div>
                </div>
            </div>
        </div>
        {% endfor %}
</div>
<!--Pagination links-->
{{ pagination.links }}

{% endblock %}